<script>
	import { currentSection } from '$lib/sections';
	import { intersect } from '@svelte-put/intersect';
</script>

<section
	id="fin"
	use:intersect={{
		root: null,
		rootMargin: '0px',
		threshold: 0.5
	}}
	on:intersect={() => currentSection.set('')}
>
	<div id="presentation-wrapper">
		<svg
			width="459"
			height="29"
			viewBox="0 0 459 29"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
		>
			<path
				fill-rule="evenodd"
				clip-rule="evenodd"
				d="M229.837 19.0162C233.087 15.8471 237.79 11.8381 243.084 8.32136C241.392 7.20252 239.731 6.16365 238.118 5.27352C235.269 3.70138 232.676 2.6547 230.414 2.40749V2.50006C227.927 2.50006 224.987 3.61337 221.709 5.42245C220.096 6.31257 218.435 7.35144 216.743 8.47028C221.954 11.9321 226.593 15.8711 229.837 19.0162ZM229.99 21.4148L229.699 21.6994C226.421 18.3486 221.042 13.6403 214.942 9.68037C213.799 10.4591 212.645 11.2627 211.485 12.0707L211.458 12.0897L211.458 12.0898L211.457 12.0902L211.454 12.0926C209.755 13.2756 208.043 14.4676 206.346 15.5934C207.792 16.4188 209.205 17.2399 210.587 18.0429L210.588 18.0435L210.588 18.0439C213.507 19.7399 216.285 21.3543 218.94 22.7542C223.323 25.0651 227.146 26.6622 230.355 26.9754C233.564 26.6622 237.387 25.0651 241.77 22.7542C244.425 21.3543 247.203 19.7399 250.121 18.0439L250.122 18.0435L250.125 18.0419C251.394 17.3045 252.689 16.5518 254.012 15.7946C252.14 14.5666 250.247 13.2482 248.37 11.9409L248.369 11.9408L248.342 11.9217C247.182 11.1138 246.028 10.3102 244.885 9.53145C238.785 13.4914 233.406 18.1997 230.128 21.5504L229.99 21.4148ZM255.915 17.0124C254.32 17.9183 252.742 18.8347 251.193 19.7345L251.193 19.7347C248.232 21.4548 245.376 23.1141 242.703 24.5234C238.303 26.8429 234.175 28.6146 230.536 28.9672L230.534 28.9975C230.474 28.9932 230.415 28.9886 230.355 28.9835C230.295 28.9886 230.236 28.9932 230.176 28.9975L230.174 28.9672C226.535 28.6146 222.407 26.8429 218.007 24.5234C215.334 23.1141 212.478 21.4548 209.517 19.7347L209.516 19.7345C207.858 18.771 206.166 17.7884 204.456 16.82C203.318 17.5403 202.192 18.2176 201.084 18.8287C197.737 20.6759 194.427 22.0001 191.414 22.0001C186.611 22.0001 182.742 19.2016 181 15.5599V17H159.125C159.899 21.6455 164.16 26.0001 169.699 26.0001V28.0001C163.032 28.0001 157.999 22.76 157.133 17.2112C157.122 17.1409 157.112 17.0705 157.102 17H0V15H157.013C157.115 12.9092 157.848 10.8467 159.359 9.08513C161.395 6.71022 164.749 4.99265 169.576 4.39679C173.851 3.86906 178.117 4.22837 182.314 5.17446C184.142 3.06301 187.064 1.40044 191.206 0.521821C198.199 -0.961556 206.362 2.17658 213.563 6.46594C214.015 6.73514 214.464 7.00946 214.91 7.28813C216.883 5.96569 218.841 4.72096 220.743 3.67141C223.724 2.0265 226.675 0.796314 229.413 0.546633V0.35113C232.427 0.35113 235.737 1.67532 239.084 3.52249C240.986 4.57203 242.944 5.81676 244.917 7.1392C245.363 6.86053 245.812 6.58622 246.264 6.31701C253.465 2.02765 261.628 -1.11048 268.621 0.372896C272.903 1.28114 275.88 3.02711 277.695 5.24067C277.717 5.26782 277.739 5.29502 277.761 5.32228C282.161 4.26693 286.643 3.8424 291.134 4.39679C295.961 4.99265 299.315 6.71022 301.351 9.08513C302.862 10.8467 303.595 12.9092 303.697 15H459V17H303.608C303.598 17.0705 303.588 17.1409 303.577 17.2112C302.711 22.76 297.678 28.0001 291.011 28.0001V26.0001C296.55 26.0001 300.811 21.6455 301.585 17H278V16.847C276.014 19.763 272.562 21.8511 268.414 21.8511C265.4 21.8511 262.09 20.5269 258.743 18.6798C257.812 18.1661 256.868 17.6058 255.915 17.0124ZM279.013 15H301.695C301.594 13.3477 301.004 11.7519 299.833 10.387C298.21 8.49433 295.376 6.93565 290.889 6.38173C286.893 5.88845 282.882 6.2183 278.901 7.10993C279.76 8.86279 279.996 10.7505 279.714 12.5667C279.585 13.3999 279.348 14.2172 279.013 15ZM276.902 7.6046C277.742 9.08776 277.979 10.7013 277.738 12.2605C277.125 16.2151 273.416 19.8511 268.414 19.8511C265.927 19.8511 262.987 18.7378 259.709 16.9287C259.116 16.6015 258.517 16.2542 257.912 15.8902C264.008 12.5046 270.404 9.36059 276.902 7.6046ZM275.592 5.894C268.947 7.7997 262.515 11.03 256.543 14.3629C256.353 14.4694 256.162 14.576 255.973 14.6826C253.855 13.3234 251.681 11.8098 249.485 10.2805L249.457 10.2614C248.551 9.62996 247.64 8.99595 246.73 8.37078C246.916 8.25807 247.102 8.14621 247.288 8.03525C254.412 3.79128 261.999 1.01274 268.206 2.32936C271.708 3.07228 274.084 4.37978 275.592 5.894ZM181.083 6.95364C177.341 6.18125 173.574 5.91843 169.821 6.38173C165.334 6.93565 162.5 8.49433 160.877 10.387C159.706 11.7519 159.116 13.3477 159.015 15H180.752C180.45 14.2627 180.234 13.4962 180.113 12.7157C179.815 10.7935 180.096 8.79132 181.083 6.95364ZM183.123 7.42469C189.737 9.10973 196.254 12.2718 202.465 15.7053C201.673 16.1918 200.89 16.6517 200.118 17.0777C196.84 18.8867 193.9 20.0001 191.414 20.0001C186.411 20.0001 182.702 16.3641 182.089 12.4095C181.83 10.7342 182.124 8.99627 183.123 7.42469ZM204.388 14.4867L204.167 14.3629C198.027 10.9361 191.4 7.61775 184.556 5.73611C186.072 4.35298 188.358 3.17054 191.621 2.47829C197.828 1.16167 205.415 3.9402 212.539 8.18418C212.726 8.29513 212.911 8.407 213.097 8.51971C212.187 9.14488 211.276 9.77889 210.37 10.4103L210.342 10.4294C208.33 11.8306 206.337 13.2185 204.388 14.4867ZM33 11H158V9H33V11ZM311 11H436V9H311V11Z"
				fill="currentColor"
			/>
		</svg>
		<div id="presentation-text">
			<h2>Fin</h2>

			<p>Merci d'avoir lu jusqu'au bout !</p>
		</div>
		<svg
			width="459"
			height="29"
			viewBox="0 0 459 29"
			fill="none"
			xmlns="http://www.w3.org/2000/svg"
		>
			<path
				fill-rule="evenodd"
				clip-rule="evenodd"
				d="M229.837 9.98135C233.087 13.1504 237.79 17.1595 243.084 20.6762C241.392 21.795 239.731 22.8339 238.118 23.724C235.269 25.2962 232.676 26.3428 230.414 26.5901V26.4975C227.927 26.4975 224.987 25.3842 221.709 23.5751C220.096 22.685 218.435 21.6461 216.743 20.5273C221.954 17.0654 226.593 13.1264 229.837 9.98135ZM229.99 7.58273L229.699 7.29819C226.421 10.6489 221.042 15.3573 214.942 19.3172C213.799 18.5384 212.645 17.7348 211.485 16.9269L211.458 16.9078L211.458 16.9077L211.457 16.9074L211.454 16.905C209.755 15.722 208.043 14.53 206.346 13.4041C207.792 12.5788 209.205 11.7576 210.587 10.9547L210.588 10.9541L210.588 10.9536C213.507 9.25767 216.285 7.64323 218.94 6.24333C223.323 3.93246 227.146 2.33538 230.355 2.02219C233.564 2.33538 237.387 3.93246 241.77 6.24333C244.425 7.64323 247.203 9.25767 250.121 10.9536L250.122 10.9541L250.125 10.9557C251.394 11.693 252.689 12.4458 254.012 13.2029C252.14 14.431 250.247 15.7493 248.37 17.0566L248.369 17.0567L248.342 17.0758C247.182 17.8838 246.028 18.6873 244.885 19.4661C238.785 15.5062 233.406 10.7978 230.128 7.44711L229.99 7.58273ZM255.915 11.9851C254.32 11.0792 252.742 10.1628 251.193 9.263L251.193 9.26283C248.232 7.54275 245.376 5.88344 242.703 4.47416C238.303 2.15466 234.175 0.382947 230.536 0.0303795L230.534 7.55121e-05C230.474 0.00432318 230.415 0.00896376 230.355 0.0139934C230.295 0.00896376 230.236 0.00432318 230.176 7.55121e-05L230.174 0.0303795C226.535 0.382947 222.407 2.15466 218.007 4.47416C215.334 5.88344 212.478 7.54275 209.517 9.26283L209.516 9.263C207.858 10.2266 206.166 11.2092 204.456 12.1776C203.318 11.4573 202.192 10.78 201.084 10.1688C197.737 8.32167 194.427 6.99748 191.414 6.99748C186.611 6.99748 182.742 9.79598 181 13.4377V11.9975H159.125C159.899 7.35205 164.16 2.99741 169.699 2.99741V0.997409C163.032 0.997409 157.999 6.23753 157.133 11.7863C157.122 11.8567 157.112 11.9271 157.102 11.9975H0V13.9975H157.013C157.115 16.0883 157.848 18.1509 159.359 19.9124C161.395 22.2873 164.749 24.0049 169.576 24.6007C173.851 25.1285 178.117 24.7692 182.314 23.8231C184.142 25.9345 187.064 27.5971 191.206 28.4757C198.199 29.9591 206.362 26.821 213.563 22.5316C214.015 22.2624 214.464 21.9881 214.91 21.7094C216.883 23.0319 218.841 24.2766 220.743 25.3261C223.724 26.971 226.675 28.2012 229.413 28.4509V28.6464C232.427 28.6464 235.737 27.3222 239.084 25.4751C240.986 24.4255 242.944 23.1808 244.917 21.8583C245.363 22.137 245.812 22.4113 246.264 22.6805C253.465 26.9699 261.628 30.108 268.621 28.6246C272.903 27.7164 275.88 25.9704 277.695 23.7569C277.717 23.7297 277.739 23.7025 277.761 23.6753C282.161 24.7306 286.643 25.1551 291.134 24.6007C295.961 24.0049 299.315 22.2873 301.351 19.9124C302.862 18.1509 303.595 16.0883 303.697 13.9975H459V11.9975H303.608C303.598 11.9271 303.588 11.8567 303.577 11.7863C302.711 6.23753 297.678 0.997409 291.011 0.997409V2.99741C296.55 2.99741 300.811 7.35205 301.585 11.9975H278V12.1505C276.014 9.23452 272.562 7.14641 268.414 7.14641C265.4 7.14641 262.09 8.4706 258.743 10.3178C257.812 10.8314 256.868 11.3918 255.915 11.9851ZM279.013 13.9975H301.695C301.594 15.6498 301.004 17.2456 299.833 18.6105C298.21 20.5032 295.376 22.0619 290.889 22.6158C286.893 23.1091 282.882 22.7792 278.901 21.8876C279.76 20.1348 279.996 18.2471 279.714 16.4308C279.585 15.5976 279.348 14.7803 279.013 13.9975ZM276.902 21.3929C277.742 19.9098 277.979 18.2962 277.738 16.737C277.125 12.7824 273.416 9.14641 268.414 9.14641C265.927 9.14641 262.987 10.2597 259.709 12.0688C259.116 12.396 258.517 12.7434 257.912 13.1074C264.008 16.4929 270.404 19.637 276.902 21.3929ZM275.592 23.1035C268.947 21.1978 262.515 17.9675 256.543 14.6347C256.353 14.5281 256.162 14.4216 255.973 14.315C253.855 15.6742 251.681 17.1878 249.485 18.717L249.457 18.7362C248.551 19.3676 247.64 20.0016 246.73 20.6268C246.916 20.7395 247.102 20.8513 247.288 20.9623C254.412 25.2063 261.999 27.9848 268.206 26.6682C271.708 25.9253 274.084 24.6178 275.592 23.1035ZM181.083 22.0439C177.341 22.8163 173.574 23.0791 169.821 22.6158C165.334 22.0619 162.5 20.5032 160.877 18.6105C159.706 17.2456 159.116 15.6498 159.015 13.9975H180.752C180.45 14.7348 180.234 15.5014 180.113 16.2819C179.815 18.2041 180.096 20.2062 181.083 22.0439ZM183.123 21.5729C189.737 19.8878 196.254 16.7257 202.465 13.2923C201.673 12.8058 200.89 12.3458 200.118 11.9199C196.84 10.1108 193.9 8.99748 191.414 8.99748C186.411 8.99748 182.702 12.6335 182.089 16.5881C181.83 18.2633 182.124 20.0013 183.123 21.5729ZM204.388 14.5109L204.167 14.6347C198.027 18.0614 191.4 21.3798 184.556 23.2614C186.072 24.6446 188.358 25.827 191.621 26.5192C197.828 27.8359 205.415 25.0573 212.539 20.8134C212.726 20.7024 212.911 20.5905 213.097 20.4778C212.187 19.8527 211.276 19.2186 210.37 18.5872L210.342 18.5681C208.33 17.167 206.337 15.779 204.388 14.5109ZM33 17.9975H158V19.9975H33V17.9975ZM311 17.9975H436V19.9975H311V17.9975Z"
				fill="currentColor"
			/>
		</svg>
	</div>
</section>

<style lang="scss">
	#fin {
		font-family: var(--font-old-school);
		padding: 2rem;
		min-height: 70vh;
		font-size: 1.385em;
		background-color: var(--color-mica-dark);
		color: var(--color-mica-light);
		display: flex;
		justify-content: center;
		align-items: center;
		position: relative;

		&::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-image: url('https://naldzgraphics.net/wp-content/uploads/2017/01/23-greyscale-grain-stock.jpg');
			background-size: cover;
			mix-blend-mode: overlay;
			z-index: 1;
		}

		#presentation-wrapper {
			max-width: 800px;
			gap: 2rem;
			line-height: 1.5;
			letter-spacing: 0.05em;
			text-align: center;
			display: flex;
			flex-direction: column;
			align-items: center;
			z-index: 2;
			font-size: 2rem;
		}
	}
</style>
